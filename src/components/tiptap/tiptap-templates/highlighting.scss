/* Text highlighting styles for light and dark modes */

/* Light mode highlighting - default fallback */
.tiptap.ProseMirror mark:not([style*="background-color"]),
.tiptap.ProseMirror .highlight:not([style*="background-color"]) {
  background-color: #fef08a; /* Yellow highlight fallback */
  color: #1f2937; /* Dark text for contrast */
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

/* Allow TipTap to set colors via inline styles */
.tiptap.ProseMirror mark[style*="background-color"],
.tiptap.ProseMirror .highlight[style*="background-color"] {
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

/* Selection highlighting in light mode */
.tiptap.ProseMirror ::selection {
  background-color: #ddd6fe !important; /* Light purple selection */
  color: inherit;
}

/* Dark mode highlighting - default fallback */
html.dark .tiptap.ProseMirror mark:not([style*="background-color"]),
html.dark .tiptap.ProseMirror .highlight:not([style*="background-color"]),
.dark .tiptap.ProseMirror mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror .highlight:not([style*="background-color"]) {
  background-color: #fbbf24; /* Amber highlight for dark mode fallback */
  color: #111827; /* Very dark text for contrast */
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  box-decoration-break: clone;
  -webkit-box-decoration-break: clone;
}

/* Selection highlighting in dark mode */
html.dark .tiptap.ProseMirror ::selection,
.dark .tiptap.ProseMirror ::selection {
  background-color: #6366f1 !important; /* Indigo selection for dark mode */
  color: #ffffff !important;
}

/* Alternative highlight colors for variety - these are now handled by TipTap's inline styles */

/* Ensure highlighting works with existing text styles - fallbacks only */
html.dark .tiptap.ProseMirror h1 mark:not([style*="background-color"]),
html.dark .tiptap.ProseMirror h2 mark:not([style*="background-color"]),
html.dark .tiptap.ProseMirror h3 mark:not([style*="background-color"]),
html.dark .tiptap.ProseMirror h4 mark:not([style*="background-color"]),
html.dark .tiptap.ProseMirror p mark:not([style*="background-color"]),
html.dark .tiptap.ProseMirror li mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror h1 mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror h2 mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror h3 mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror h4 mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror p mark:not([style*="background-color"]),
.dark .tiptap.ProseMirror li mark:not([style*="background-color"]) {
  background-color: #fbbf24;
  color: #111827;
}

/* Increase specificity to override existing styles - fallbacks only */
html body .tiptap.ProseMirror mark:not([style*="background-color"]) {
  background-color: #fef08a;
  color: #1f2937;
}

html body.dark .tiptap.ProseMirror mark:not([style*="background-color"]),
html.dark body .tiptap.ProseMirror mark:not([style*="background-color"]) {
  background-color: #fbbf24;
  color: #111827;
}
